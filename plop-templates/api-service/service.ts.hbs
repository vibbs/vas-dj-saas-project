import { customFetch } from '../core/mutator';

const BASE = '{{endpoint}}';

export interface {{pascalCase name}}Item {
  id: string;
  // TODO: Add your fields here
  created_at: string;
  updated_at: string;
}

export const {{name}}Service = {
  async list(params?: Record<string, string>) {
    const query = params ? '?' + new URLSearchParams(params).toString() : '';
    return customFetch<{ results: {{pascalCase name}}Item[] }>(`${BASE}/${query}`, {
      method: 'GET',
    });
  },

  async getById(id: string) {
    return customFetch<{{pascalCase name}}Item>(`${BASE}/${id}/`, {
      method: 'GET',
    });
  },

  async create(data: Partial<{{pascalCase name}}Item>) {
    return customFetch<{{pascalCase name}}Item>(`${BASE}/`, {
      method: 'POST',
      body: JSON.stringify(data),
    });
  },

  async update(id: string, data: Partial<{{pascalCase name}}Item>) {
    return customFetch<{{pascalCase name}}Item>(`${BASE}/${id}/`, {
      method: 'PATCH',
      body: JSON.stringify(data),
    });
  },

  async delete(id: string) {
    return customFetch<void>(`${BASE}/${id}/`, {
      method: 'DELETE',
    });
  },
};
