PYTHONDONTWRITEBYTECODE=1

# Environment Configuration
APP_ENV=dev
DEBUG=True
LOG_LEVEL=INFO

# Security - REQUIRED
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-secret-key-here-change-me

# Allowed Hosts (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1

# Database Configuration
DB_NAME=saas_db
DB_USER=saas_user
DB_PASSWORD=saas_password
DB_HOST=db
DB_PORT=5432
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# Celery Configuration
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0

# Redis Cache Configuration
REDIS_CACHE_URL=redis://redis:6379/2

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:19006

# Frontend URL
FRONTEND_URL=http://localhost:3000

# Email Configuration
DEFAULT_FROM_EMAIL=noreply@example.com
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# JWT Configuration
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=60
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7

# Rate Limiting
RATE_LIMIT_ENABLED=True

# Monitoring (Optional - for production)
# Sentry Error Tracking - Get DSN from https://sentry.io
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_RELEASE=v1.0.0

# Observability Configuration (Optional - Prometheus + Grafana)
# ==============================================================
# WARNING: Enabling observability increases infrastructure costs and resource usage.
# Only enable in production if you have monitoring requirements and budget.
#
# Cost Considerations:
#   - Prometheus: ~500MB memory minimum
#   - Grafana: ~200MB memory minimum
#   - Additional disk space for metrics storage
#   - Network overhead for metrics collection
#
# Recommended Settings:
#   Development: OBSERVABILITY_ENABLED=false (disabled)
#   Staging:     OBSERVABILITY_ENABLED=true, METRICS_ENABLED=true, TRACING_ENABLED=false
#   Production:  Enable selectively based on needs and budget

# Master switch - disables all observability features when false
OBSERVABILITY_ENABLED=false

# Metrics collection (Prometheus)
# Set to true to enable HTTP request metrics, business metrics, etc.
METRICS_ENABLED=false

# Distributed tracing (OpenTelemetry)
# WARNING: This is the most expensive feature. Only enable if you need detailed trace analysis.
# Recommended: Keep disabled in production unless debugging complex issues.
TRACING_ENABLED=false

# Detailed metrics (high cardinality)
# WARNING: Enables per-user and per-organization metrics, which can increase storage costs.
# Only enable if you need granular analytics.
DETAILED_METRICS_ENABLED=false

# Sampling rates (cost optimization)
# Reduce these values to sample only a percentage of requests
# Examples:
#   1.0  = 100% of requests (default, no sampling)
#   0.5  = 50% of requests
#   0.1  = 10% of requests (recommended for high-traffic production)
#   0.01 = 1% of requests (minimal overhead)
METRICS_SAMPLE_RATE=1.0
TRACING_SAMPLE_RATE=0.01

# Metrics retention period (in days)
# Lower values reduce storage costs
METRICS_RETENTION_DAYS=7

# Prometheus configuration
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=15s

# OpenTelemetry configuration
OTEL_SERVICE_NAME=vas-dj-saas
OTEL_SERVICE_VERSION=1.0.0
# OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318  # Optional: for external collectors

# Grafana configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Production Example (Cost-Optimized):
# OBSERVABILITY_ENABLED=true
# METRICS_ENABLED=true
# TRACING_ENABLED=false              # Disabled to save costs
# DETAILED_METRICS_ENABLED=false     # Disabled to reduce cardinality
# METRICS_SAMPLE_RATE=0.1            # Sample only 10% of requests
# TRACING_SAMPLE_RATE=0.01           # Sample only 1% for tracing
# METRICS_RETENTION_DAYS=7           # Keep metrics for 7 days only
